extends layout

block content
  h1= title
  form(action='/Sculptures/create', method='POST', name='SculptureForm')
    label(for='sculpture_name') Sculpture Name:
    input(type='text', name='sculpture_name', required)
    br
    label(for='sculpture_material') Sculpture Material:
    input(type='text', name='sculpture_material', required)
    br
    label(for='sculpture_height') Sculpture Height (cm):
    input(type='number', name='sculpture_height', required)
    br
    button(type='submit') Create

block script
  script.
    document.forms['SculptureForm'].addEventListener('submit', (event) => {
      event.preventDefault();
      fetch(event.target.action, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(Object.fromEntries(new FormData(event.target))),
      })
        .then((response) => {
          if (!response.ok) throw new Error("Failed to save");
          return response.json();
        })
        .then((data) => alert(data.message || "Sculpture created successfully!"))
        .catch((err) => alert("Error: " + err.message));
    });
